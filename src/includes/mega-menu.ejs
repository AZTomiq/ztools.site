<div class="dropdown-menu mega-menu">
  <div class="mega-sidebar">
    <div class="mega-sidebar-header">
      <a href="<%= rootPath %><%= locale === 'vi' ? '' : 'en/' %>" class="sidebar-logo logo-link">
        <img src="<%= rootPath %>assets/images/logo.svg" alt="iZTools Logo" class="logo-icon" width="28" height="28">
        <span class="logo-text">iZTools</span>
      </a>
    </div>
    <div class="mega-sidebar-links">
      <% const navBase=isDev ? rootPath : siteGlobal.site.url + '/' ; %>
        <a href="<%= navBase %><%= locale === 'vi' ? '' : 'en/' %>categories/"
          class="mega-side-link <%= pageUrl === 'categories/' ? 'active' : '' %>">
          <span class="icon-wrap"><i data-lucide="folder-kanban"></i></span>
          <span class="link-text">
            <%= t('nav.menu_categories') %>
          </span>
        </a>
        <a href="<%= resolveUrl('/blog/') %><%= locale === 'vi' ? '' : 'en/' %>"
          class="mega-side-link <%= pageUrl === 'blog/' ? 'active' : '' %>">
          <span class="icon-wrap"><i data-lucide="pen-tool"></i></span>
          <span class="link-text">
            <%= t('nav.blog') || 'Blog' %>
          </span>
        </a>
        <a href="<%= resolveUrl('/roadmap/') %><%= locale === 'vi' ? '' : 'en/' %>"
          class="mega-side-link <%= pageUrl === 'roadmap/' ? 'active' : '' %>">
          <span class="icon-wrap"><i data-lucide="map"></i></span>
          <span class="link-text">
            <%= t('nav.roadmap') || 'Roadmap' %>
          </span>
        </a>
        <a href="<%= resolveUrl('/bookmark-creator/') %><%= locale === 'vi' ? '' : 'en/' %>"
          class="mega-side-link <%= pageUrl === 'bookmark-creator/' ? 'active' : '' %>">
          <span class="icon-wrap"><i data-lucide="star" style="width: 18px; height: 18px;"></i></span>
          <span class="link-text">
            <%= t('bookmarkCreator.title') || 'Bookmarks' %>
          </span>
        </a>
        <a href="<%= rootPath %><%= locale === 'vi' ? '' : 'en/' %>changelog/"
          class="mega-side-link <%= pageUrl === 'changelog/' ? 'active' : '' %>">
          <span class="icon-wrap"><i data-lucide="history"></i></span>
          <span class="link-text">Changelogs</span>
        </a>
    </div>
  </div>

  <div class="mega-content-wrap">
    <% const catOrder=['job', 'finance' , 'text' , 'generator' , 'daily' , 'dev' ]; const catMap={ 'job' : { title:
      t('home.cats.job.title') || 'Job & Income' , icon: 'briefcase' , color: 'blue' }, 'finance' : { title:
      t('home.cats.finance.title') || 'Finance' , icon: 'line-chart' , color: 'green' }, 'text' : { title:
      t('home.cats.text.title') || 'Text Tools' , icon: 'type' , color: 'slate' }, 'generator' : { title:
      t('home.cats.generator.title') || 'Generators' , icon: 'wand-2' , color: 'pink' }, 'daily' : { title:
      t('home.cats.daily.title') || 'Daily Utilities' , icon: 'calendar' , color: 'orange' }, 'dev' : { title:
      t('home.cats.dev.title') || 'Dev Tools' , icon: 'code' , color: 'purple' } }; %>
      <div class="mega-grid">
        <% catOrder.forEach(function(catId) { const catTools=tools.filter(function(t) { return t.category===catId &&
          (t.status==='active' || t.status==='legacy' || t.status==='not-ready' ); }); if (catTools.length===0) return;
          const meta=catMap[catId]; %>
          <div class="mega-cat-card accent-<%= meta.color %>">
            <div class="mega-cat-header">
              <span class="mega-cat-icon"><i data-lucide="<%= meta.icon %>"></i></span>
              <span class="mega-cat-title">
                <%= meta.title %>
              </span>
            </div>
            <div class="mega-cat-links">
              <% catTools.forEach(function(tool) { let modeClass='' ; if (tool.mode==='standard' )
                modeClass='mode-standard-only' ; else if (tool.mode==='advanced' ) modeClass='mode-advanced-only' ;
                const isToolActive=pageUrl===tool.link.substring(1); %>
                <a href="<%= rootPath %><%= locale === 'vi' ? '' : 'en/' %><%= tool.link.substring(1) %>"
                  class="mega-tool-link <%= modeClass %> <%= isToolActive ? 'active' : '' %>">
                  <span class="tool-dot"></span>
                  <span class="tool-label">
                    <%= t(tool.translationKey + '.title' ) %>
                  </span>
                  <% if (tool.status==='not-ready' ) { %>
                    <span class="tool-badge beta"
                      style="font-size: 0.5rem; padding: 1px 4px; margin-left: auto;">BETA</span>
                    <% } else if (tool.highlight) { %>
                      <span class="tool-badge hot"
                        style="font-size: 0.6rem; padding: 2px 6px; margin-left: auto; position: static; width: auto; transform: none; background: #fff7ed; color: #c2410c; border: 1px solid #fb923c; border-radius: 4px; display: flex; align-items: center; gap: 3px; font-weight: 700;">
                        <i data-lucide="sparkles" style="width: 10px; height: 10px;"></i> HOT
                      </span>
                      <% } %>
                </a>
                <% }); %>
            </div>
          </div>
          <% }); %>
      </div>
  </div>
</div>