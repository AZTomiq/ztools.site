<!-- title: <%= t('qr.title') %> - iZTools -->
<link rel="stylesheet" href="<%= toolConfig._assets.css %>">
<script src="<%= asset('assets/vendor/qrcode/qrcode.min.js') %>"></script>

<section class="tool-container">
  <div class="page-header">
    <h1>ðŸ”³ <%= t('qr.title') %>
        <% if (typeof toolConfig !=='undefined' && toolConfig.meta && toolConfig.meta.version) { %>
          <button class="version-badge" id="open-changelog" aria-label="View Changelog">v<%= toolConfig.meta.version %>
          </button>
          <% } %>
    </h1>
    <p>
      <%= t('qr.desc') %>
    </p>
  </div>

  <div class="qr-layout">
    <div class="card settings-card">
      <div class="form-group">
        <label for="qr-input">
          <%= t('qr.labels.input') %>
        </label>
        <textarea id="qr-input" placeholder="<%= t('qr.placeholder') %>">https://iztools.xyz</textarea>
      </div>

      <div class="qr-options">
        <div class="form-group">
          <label for="qr-size">
            <%= t('qr.labels.size') %>
          </label>
          <input type="number" id="qr-size" value="256" step="32" min="64" max="1024">
        </div>

        <div class="form-group">
          <label for="qr-level">
            <%= t('qr.labels.level') %>
          </label>
          <select id="qr-level">
            <option value="L">
              <%= t('qr.levels.L') %>
            </option>
            <option value="M" selected>
              <%= t('qr.levels.M') %>
            </option>
            <option value="Q">
              <%= t('qr.levels.Q') %>
            </option>
            <option value="H">
              <%= t('qr.levels.H') %>
            </option>
          </select>
        </div>
      </div>

      <button class="btn btn-primary btn-block" onclick="generateQR()">
        <%= t('qr.labels.generate') %>
      </button>
    </div>

    <div class="card preview-card">
      <div id="qrcode" class="qr-display"></div>
      <button class="btn btn-secondary btn-block" style="margin-top: 1.5rem;" onclick="downloadQR()">
        <%= t('qr.labels.download') %> ðŸ“¥
      </button>
    </div>
  </div>
</section>

<script src="<%= toolConfig._assets.js %>"></script>