<!-- title: <%= t('savings.title') %> - iZTools -->

<link rel="stylesheet" href="<%= toolConfig._assets.css %>">

<section class="tool-container">
  <div class="page-header">
    <h1>ğŸ’° <%= t('savings.title') %>
        <% if (typeof toolConfig !=='undefined' && toolConfig.meta && toolConfig.meta.version) { %>
          <button class="version-badge" id="open-changelog" aria-label="View Changelog">v<%= toolConfig.meta.version %>
          </button>
          <% } %>
    </h1>
    <p>
      <%= t('savings.desc') %>
    </p>
  </div>

  <div class="calculator-card">
    <form id="savings-form" class="finance-form">
      <!-- Amount -->
      <div class="form-group">
        <label for="amount">
          <%= t('savings.amount') %>
        </label>
        <div class="input-group">
          <input type="text" id="amount" placeholder="100.000.000" inputmode="numeric">
          <span class="input-suffix">VNÄ</span>
        </div>
      </div>

      <div class="form-row">
        <!-- Annual Rate -->
        <div class="form-group">
          <label for="rate">
            <%= t('savings.annual_rate') %>
          </label>
          <div class="input-group">
            <input type="number" id="rate" placeholder="6.5" step="0.1" min="0">
            <span class="input-suffix">%</span>
          </div>
        </div>

        <!-- Term Select -->
        <div class="form-group">
          <label for="term">
            <%= t('savings.term') %>
          </label>
          <select id="term">
            <option value="1">1 <%= t('savings.month') %>
            </option>
            <option value="3">3 <%= t('savings.months') %>
            </option>
            <option value="6">6 <%= t('savings.months') %>
            </option>
            <option value="9">9 <%= t('savings.months') %>
            </option>
            <option value="12" selected>12 <%= t('savings.months') %>
            </option>
            <option value="18">18 <%= t('savings.months') %>
            </option>
            <option value="24">24 <%= t('savings.months') %>
            </option>
            <option value="36">36 <%= t('savings.months') %>
            </option>
            <option value="custom">
              <%= t('savings.custom_term') %>
            </option>
          </select>
        </div>
      </div>

      <!-- Custom Term Input (Hidden by default) -->
      <div class="form-group" id="custom-term-group" style="display: none;">
        <label for="custom-months">
          <%= t('savings.custom_months_label') %>
        </label>
        <div class="input-group">
          <input type="number" id="custom-months" placeholder="5" min="1">
          <span class="input-suffix">
            <%= t('savings.months') %>
          </span>
        </div>
      </div>

      <div class="button-group">
        <button type="button" id="btn-calculate" class="btn-calculate">
          <%= t('savings.calc_btn') %>
        </button>
        <button type="button" id="btn-reset" class="btn-reset">
          <%= t('common.reset') || 'Reset' %>
        </button>
      </div>
    </form>

    <!-- Results -->
    <div id="result-section" class="result-section">
      <h3>
        <%= t('savings.result_title') %>
      </h3>

      <div class="result-grid">
        <div class="result-card primary">
          <span>
            <%= t('savings.earned_interest') %>
          </span>
          <strong id="res-interest">0 Ä‘</strong>
        </div>
        <div class="result-card secondary">
          <span>
            <%= t('savings.total_received') %>
          </span>
          <strong id="res-total">0 Ä‘</strong>
        </div>
      </div>

      <div class="info-box" style="margin-top: 1rem; padding: 1rem; background: var(--bg-card); border-radius: 8px;">
        <p style="margin: 0; font-size: 0.9rem; color: var(--text-muted);">
          â„¹ï¸ Interest is calculated based on simple interest formula:
          <code>Interest = Principal Ã— Rate% Ã— (Months / 12)</code>.
          <br>Assumes interest is paid at maturity (End of term).
        </p>
      </div>
    </div>
  </div>
</section>

<script src="<%= asset('assets/features/savings-interest/logic.js') %>"></script>
<script src="<%= toolConfig._assets.js %>"></script>