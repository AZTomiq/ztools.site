<!-- title: <%= t('compound.title') %> - ZTools -->

<link rel="stylesheet" href="<%= toolConfig._assets.css %>">

<section class="tool-container">
  <div class="page-header">
    <h1>üí∞ <%= t('compound.title') %>
    
      <% if (typeof toolConfig !== 'undefined' && toolConfig.meta && toolConfig.meta.version) { %>
        <span class="version-badge" id="open-changelog">v<%= toolConfig.meta.version %></span>
      <% } %></h1>
    <p>
      <%= t('compound.desc') %>
    </p>
  </div>

  <div class="calculator-card">
    <form id="compound-form" class="finance-form">
      <!-- Initial Investment -->
      <div class="form-group">
        <label for="initial">
          <%= t('compound.initial') %>
        </label>
        <div class="input-group">
          <input type="text" id="initial" placeholder="100.000.000" inputmode="numeric">
          <span class="input-suffix">VNƒê</span>
        </div>
      </div>

      <div class="form-row">
        <!-- Interest Rate -->
        <div class="form-group">
          <label for="rate">
            <%= t('compound.interest_rate') %>
          </label>
          <div class="input-group">
            <input type="number" id="rate" placeholder="7.5" step="0.1" min="0">
            <span class="input-suffix">%</span>
          </div>
        </div>

        <!-- Years -->
        <div class="form-group">
          <label for="years">
            <%= t('compound.years') %>
          </label>
          <div class="input-group">
            <input type="number" id="years" placeholder="10" min="1" max="100">
            <span class="input-suffix">
              <%= t('compound.year') %>
            </span>
          </div>
        </div>
      </div>

      <!-- Additional Options -->
      <div class="form-row">
        <!-- Monthly Contribution -->
        <div class="form-group">
          <label for="contribution">
            <%= t('compound.contribution') %>
          </label>
          <div class="input-group">
            <input type="text" id="contribution" placeholder="5.000.000" inputmode="numeric">
            <span class="input-suffix">VNƒê</span>
          </div>
        </div>

        <!-- Frequency -->
        <div class="form-group">
          <label for="frequency">
            <%= t('compound.frequency') %>
          </label>
          <select id="frequency">
            <option value="12">
              <%= t('compound.freq_options.monthly') %>
            </option>
            <option value="4">
              <%= t('compound.freq_options.quarterly') %>
            </option>
            <option value="2">
              <%= t('compound.freq_options.semiannually') %>
            </option>
            <option value="1">
              <%= t('compound.freq_options.annually') %>
            </option>
          </select>
        </div>
      </div>

      <div class="button-group">
        <button type="button" id="btn-calculate" class="btn-calculate">
          <%= t('compound.calc_btn') %>
        </button>
        <button type="button" id="btn-reset" class="btn-reset">
          <%= t('common.reset') || 'Reset' %>
        </button>
      </div>
    </form>

    <!-- Results -->
    <div id="result-section" class="result-section">
      <h3>
        <%= t('compound.result_title') %>
      </h3>

      <div class="result-grid">
        <div class="result-card primary">
          <span>
            <%= t('compound.future_value') %>
          </span>
          <strong id="res-future-value">0 ƒë</strong>
        </div>
        <div class="result-card secondary">
          <span>
            <%= t('compound.total_interest') %>
          </span>
          <strong id="res-total-interest">0 ƒë</strong>
        </div>
        <div class="result-card">
          <span>
            <%= t('compound.total_contribution') %>
          </span>
          <strong id="res-total-principal">0 ƒë</strong>
        </div>
      </div>

      <div class="breakdown-table-wrapper">
        <h4>
          <%= t('compound.breakdown') %>
        </h4>
        <div class="table-scroll">
          <table class="breakdown-table">
            <thead>
              <tr>
                <th>
                  <%= t('compound.year') %>
                </th>
                <th>
                  <%= t('compound.balance') %>
                </th>
                <th>
                  <%= t('compound.interest') %>
                </th>
                <th>
                  <%= t('compound.total_contribution') %>
                </th>
              </tr>
            </thead>
            <tbody id="breakdown-body">
              <!-- Rows generated by JS -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <section class="card" style="padding: 2rem; margin-top: 3rem;">
    <h2>
      <%= t('compound.about.title') %>
    </h2>
    <p>
      <%= t('compound.about.desc') %>
    </p>
    <p><%- t('compound.about.formula') %></p>
    <ul>
      <li><%- t('compound.about.legend.p') %></li>
      <li><%- t('compound.about.legend.r') %></li>
      <li><%- t('compound.about.legend.n') %></li>
      <li><%- t('compound.about.legend.t') %></li>
    </ul>
    <p><em>
        <%= t('compound.about.quote') %>
      </em></p>
  </section>
</section>

<script src="<%= toolConfig._assets.js %>"></script>