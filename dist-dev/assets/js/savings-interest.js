document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("savings-form"),t=document.getElementById("btn-calculate"),n=document.getElementById("btn-reset"),a=document.getElementById("result-section"),o=document.getElementById("term"),l=document.getElementById("custom-term-group"),d=document.getElementById("amount");function r(e){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e)}d&&d.addEventListener("input",e=>{let t=e.target.value.replace(/\D/g,"");t&&(e.target.value=parseInt(t,10).toLocaleString("vi-VN"))}),o&&o.addEventListener("change",()=>{"custom"===o.value?l.style.display="block":l.style.display="none"}),t&&t.addEventListener("click",function(){const e=(n=document.getElementById("amount").value,n&&parseInt(n.toString().replace(/\D/g,""),10)||0),t=parseFloat(document.getElementById("rate").value)||0;var n;let l=0;l="custom"===o.value?parseInt(document.getElementById("custom-months").value)||0:parseInt(o.value)||0;if(e<=0||t<=0||l<=0)return void alert("Please enter valid amount, rate and term.");const d=e*(t/100)*(l/12),s=e+d;document.getElementById("res-interest").textContent=r(d),document.getElementById("res-total").textContent=r(s),a.classList.add("show")}),n&&n.addEventListener("click",()=>{e.reset(),l.style.display="none",a.classList.remove("show")})});