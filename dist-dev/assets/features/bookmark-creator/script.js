document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("export-btn"),t=document.getElementById("select-all-btn"),o=document.getElementById("deselect-all-btn"),n=document.getElementById("tool-search"),l=document.querySelectorAll('input[name="tool-choice"]');t.addEventListener("click",()=>{l.forEach(e=>e.checked=!0)}),o.addEventListener("click",()=>{l.forEach(e=>e.checked=!1)}),n.addEventListener("input",e=>{const t=e.target.value.toLowerCase();document.querySelectorAll(".tool-checkbox-item").forEach(e=>{const o=e.getAttribute("data-title").toLowerCase();e.style.display=o.includes(t)?"flex":"none"}),document.querySelectorAll(".category-group").forEach(e=>{const t=e.querySelectorAll('.tool-checkbox-item[style="display: flex;"], .tool-checkbox-item:not([style])');e.style.display=t.length>0?"block":"none"})}),e.addEventListener("click",()=>{const e=Array.from(l).filter(e=>e.checked);if(0===e.length)return void alert("Vui lòng chọn ít nhất một công cụ!");!function(e,t,o){const n=new Blob([e],{type:o}),l=URL.createObjectURL(n),c=document.createElement("a");c.href=l,c.download=t,c.click(),URL.revokeObjectURL(l)}(function(e){const t={};e.forEach(e=>{const o=e.getAttribute("data-cat-name");t[o]||(t[o]=[]),t[o].push({name:e.getAttribute("data-name"),url:window.location.origin+e.getAttribute("data-url")})});let o=`<!DOCTYPE NETSCAPE-Bookmark-file-1>\n\x3c!-- This is an automatically generated file.\n     It will be read and overwritten.\n     DO NOT EDIT! --\x3e\n<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">\n<TITLE>Bookmarks</TITLE>\n<H1>Bookmarks</H1>\n<DL><p>\n    <DT><H3 ADD_DATE="${Math.floor(Date.now()/1e3)}" LAST_MODIFIED="${Math.floor(Date.now()/1e3)}">ZTools</H3>\n    <DL><p>\n`;for(const[e,n]of Object.entries(t))o+=`        <DT><H3 ADD_DATE="${Math.floor(Date.now()/1e3)}">${e}</H3>\n        <DL><p>\n`,n.forEach(e=>{o+=`            <DT><A HREF="${e.url}" ADD_DATE="${Math.floor(Date.now()/1e3)}">${e.name}</A>\n`}),o+="        </DL><p>\n";return o+="    </DL><p>\n</DL><p>",o}(e),"ztools-bookmarks.html","text/html")})});